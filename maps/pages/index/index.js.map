{"version":3,"sources":["pages/index/index.ts"],"names":[],"mappings":";;AAGA,MAAM,GAAG,GAAG,MAAM,EAAU,CAAC;AAE7B,IAAI,CAAC;IACH,IAAI,EAAE;QACJ,KAAK,EAAE,aAAa;QACpB,QAAQ,EAAE,EAAE;QACZ,WAAW,EAAE,KAAK;QAClB,OAAO,EAAE,KAAK;QACd,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,8BAA8B,CAAC;KACpD;IAED,WAAW;QACT,EAAE,CAAC,UAAU,CAAC;YACZ,GAAG,EAAE,cAAc;SACpB,CAAC,CAAC;IACL,CAAC;IACD,SAAS;QACP,IAAI,CAAC,OAAQ,CAAC;YACZ,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO;SAC5B,CAAC,CAAC;IACL,CAAC;IACD,MAAM;QACJ,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE;YAC3B,IAAI,CAAC,OAAQ,CAAC;gBACZ,QAAQ,EAAE,GAAG,CAAC,UAAU,CAAC,QAAQ;gBACjC,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAG5B,GAAG,CAAC,qBAAqB,GAAG,GAAG,CAAC,EAAE;gBAChC,IAAI,CAAC,OAAQ,CAAC;oBACZ,QAAQ,EAAE,GAAG;oBACb,WAAW,EAAE,IAAI;iBAClB,CAAC,CAAC;YACL,CAAC,CAAC;SACH;aAAM;YAEL,EAAE,CAAC,WAAW,CAAC;gBACb,OAAO,EAAE,GAAG,CAAC,EAAE;oBACb,GAAG,CAAC,UAAU,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;oBACvC,IAAI,CAAC,OAAQ,CAAC;wBACZ,QAAQ,EAAE,GAAG,CAAC,QAAQ;wBACtB,WAAW,EAAE,IAAI;qBAClB,CAAC,CAAC;gBACL,CAAC;aACF,CAAC,CAAC;SACJ;IACH,CAAC;IAED,WAAW,CAAC,CAAM;QAChB,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACf,GAAG,CAAC,UAAU,CAAC,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;QAC5C,IAAI,CAAC,OAAQ,CAAC;YACZ,QAAQ,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ;YAC3B,WAAW,EAAE,IAAI;SAClB,CAAC,CAAC;IACL,CAAC;CACF,CAAC,CAAC","file":"../../../src/pages/index/index.js","sourcesContent":["// 获取应用实例\nimport { IMyApp } from \"../../app\";\n\nconst app = getApp<IMyApp>();\n\nPage({\n  data: {\n    motto: \"点击 “编译” 以构建\",\n    userInfo: {},\n    hasUserInfo: false,\n    showImg: false,\n    canIUse: wx.canIUse(\"button.open-type.getUserInfo\")\n  },\n  // 事件处理函数\n  bindViewTap() {\n    wx.navigateTo({\n      url: \"../logs/logs\"\n    });\n  },\n  toggleImg() {\n    this.setData!({\n      showImg: !this.data.showImg\n    });\n  },\n  onLoad() {\n    if (app.globalData.userInfo) {\n      this.setData!({\n        userInfo: app.globalData.userInfo,\n        hasUserInfo: true\n      });\n    } else if (this.data.canIUse) {\n      // 由于 getUserInfo 是网络请求，可能会在 Page.onLoad 之后才返回\n      // 所以此处加入 callback 以防止这种情况\n      app.userInfoReadyCallback = res => {\n        this.setData!({\n          userInfo: res,\n          hasUserInfo: true\n        });\n      };\n    } else {\n      // 在没有 open-type=getUserInfo 版本的兼容处理\n      wx.getUserInfo({\n        success: res => {\n          app.globalData.userInfo = res.userInfo;\n          this.setData!({\n            userInfo: res.userInfo,\n            hasUserInfo: true\n          });\n        }\n      });\n    }\n  },\n\n  getUserInfo(e: any) {\n    console.log(e);\n    app.globalData.userInfo = e.detail.userInfo;\n    this.setData!({\n      userInfo: e.detail.userInfo,\n      hasUserInfo: true\n    });\n  }\n});\n"]}